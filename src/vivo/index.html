<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <script>_time = Date.now();</script>
    <title>夺金牌 抢vivo X7星空灰</title>
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
    <link rel="shortcut icon" href="images/icon.ico" />
    <script type="text/javascript">
        (function(){
            var phoneWidth = parseInt(window.screen.width);
            var phoneScale = phoneWidth/640;

            var ua = navigator.userAgent;
            if (/Android (\d+\.\d+)/.test(ua)) {
                var version = parseFloat(RegExp.$1);
                // andriod 2.3
                if (version > 2.3) {
                    document.write('<meta name="viewport" content="width=640, minimum-scale = ' + phoneScale + ', maximum-scale = ' + phoneScale + ', target-densitydpi=device-dpi">');
                    // andriod 2.3以上
                } else {
                    document.write('<meta name="viewport" content="width=640, target-densitydpi=device-dpi">');
                }
                // 其他系统
            } else {
                if(navigator.userAgent.indexOf("iPhone") != -1) {
                    document.write('<meta name="viewport" content="width=640, user-scalable=no, target-densitydpi=device-dpi">');
                }else if(navigator.userAgent.indexOf("iPad") != -1) {
                    document.write('<meta name="viewport" content="width=1024, user-scalable=no, target-densitydpi=device-dpi">');
                }
            }
        })();
    </script>
    <!-- build:css css/style.css -->
    <link rel="stylesheet" href="css/style.css">
    <!-- endbuild -->
    <script>
        window.__globalCfg = {
            hideWXmenu: true,
            projectName: "vivo",
            projectId: "533e1dfb-ef36-47b7-9bed-6fd0a0cb6826",
            serverUrl: "http://vivoh5.geemedia.com.cn/controller/",
            title:"夺金有礼！vivo X7星空灰带回家！",
            desc:"818 X7星空灰强势开售！京东优惠券送不停!",
            link: "http://vivoh5.geemedia.com.cn/wechat/controller/project/index?projectId=533e1dfb-ef36-47b7-9bed-6fd0a0cb6826",
            imgUrl: "http://cdn.geemedia.com.cn/vivo/images/share-icon.jpg"
        };
    </script>
</head>

<body>

<div class="page-container page-index">
    <a href="game.html" class="button btn-start tada">开始游戏</a>
    <a href="javascript:;" class="button btn-rule">游戏规则</a>
    <a href="javascript:;" class="button btn-rank">查看排行榜</a>
</div>

<div id="dialog-rule" class="dialog dialog-rule">
    <div class="mask"></div>
    <div class="dialog-content">
        <a href="javascript:;" class="dialog-close" data-dismiss="true"></a>
        <div class="rule-content">
            <div class="rule-body">
                <div><h5 class="inline">一、活动时间：</h5>2016年8月18日 － 2016年8月24日23:59:59。</div>
                <div><h5 class="inline">二、活动用户：</h5>同一个微信账号视为同一参与用户，同一参与用户只限获得1张优惠券。</div>
                <div><h5>三、游戏玩法：</h5></div>
                <p>1、 用户在游戏活动首页点击“开始抢”即可进入“夺金牌，抢X7星空灰”游戏页面，每位用户玩游戏的次数仅有1次，每成功分享1次就能获得+1次游戏机会，上限为50次。最终会记录用户单次游戏的最高得分，用来排名。</p>
                <p>2、 “夺金牌，抢vivo星空灰”游戏中共有6个项目（跳水、体操、乒乓、举重、游泳、星空灰手机），用户需在40秒内尽可能多的将不同项目的金牌或者星空灰手机拖拉到相对应的项目中去， 成功拖对一次能获得3分，当连续2次或2次以上把金牌或手机成功拖到相对应的项目中时，可在原分数的基础上额外获得分数叠加奖励。</p>
                <p>3、 截止至2016年8月24日23:59:59为止，游戏排行榜上分数排名前3名的玩家即可获得vivo X7星空灰一台！（1、游戏实时排行榜只显示前20名的用户。2、若出现相同分数，将会根据玩游戏时获得最高分的时间而定，获得最高分的时间越早，排名越靠前。）</p>
                <p>4、 每个参与的用户都有机会获得一张京东优惠券，优惠券金额随机。（优惠券“先来先得，发完即止”）</p>
                <p>5、 游戏过程中，系统会自动获取用户的IP地址、微信Open ID，地理位置等信息，如你参与了游戏，则默认同意系统的获取行为。</p>
                <div><h5>四、活动奖品</h5></div>
                <p>1、 实物奖品：vivo X7星空灰手机</p>
                <p>2、 优惠券：<br>
                    100元vivo X7星空灰专享优惠券<br>
                    50元vivo X7星空灰专享优惠券<br>
                    20元店铺通用优惠券<br>
                    具体优惠券使用要求，请打开“微信-发现-购物-个人中心-京东券”查询
                </p>
                <div><h5>五、奖品发放形式</h5></div>
                <p>1、 优惠券：用户中奖后系统会将优惠券直接发放到参与用户京东账户中，具体使用时间、使用规则请以届时到账的优惠券信息为准，用户可在“购物-个人中心-京东券”查看具体使用详情，逾期未使用视为放弃用券。</p>
                <p>2、 实物奖品：活动下线后一周，系统将通过【vivo官方商城】公众号推送消息联系获奖用户，用户中奖后需根据推送消息的提示信息填写姓名、联系电话、详细地址信息，如用户未填写真实有效的信息或未关注vivo官方公众号—【vivo官方商城】，则视为放弃奖品。</p>
                <p>3、 实物奖品将在活动结束后10个工作日内发送完毕（快递寄送时间不包括在内）。</p>
                <p>4、 本次活动奖品发放过程中产生的邮费，由活动方支付，偏远地区需自提的，自提过程产生费用用户自理。</p>
                <div><h5>六、注意事项</h5></div>
                <p>1、 活动过程中，凡以不正当手段（如作弊领取、恶意套取、刷信誉、虚假交易、扰乱系统、实施网络攻击等）参与本次活动的用户，主办方有权终止其参与活动，并取消其获奖资格（如奖品已发放，主办方有权追回），如给主办方造成损失的，主办方将保留向违规用户继续追索的权利。</p>
                <p>2、 所有的获奖信息将通过［vivo官方商城］微信号发布，未关注该账号的用户将无法获得奖品。</p>
                <p>3、 获奖名单以系统记录为准，如用户信息在后台中奖系统不存在，则视为没有中奖。</p>
                <p>4、 本活动所发放的优惠券不得提现、不得转赠他人、不得为他人付款，活动期间，使用优惠券的订单如发生取消订单，退款，退货，该优惠券即作废。</p>
                <p>5、 优惠券在指定时间范围内抵扣现金使用，优惠券使用时间及可使用范围可在个人中心-京东券查看，本活动优惠券仅限于单笔订单，同一订单不可叠加使用。</p>
                <p>6、 优惠券只限普通消费者使用，一经发现渠道商、经销商违规获取，京东有权取消其获奖资格或购买资格。</p>
                <div><h5 class="inline">七、</h5>如果您对活动有任何疑问，请在2016年8月25日00:00:00前联系0769-8708-7862进行资讯。</div>
                <div><h5 class="inline">八、</h5>在法律规定范围内，游戏规则的最终解释权归广东天宸网络科技有限公司所有。</div>
            </div>
        </div>
    </div>
</div>

<div id="dialog-rank" class="dialog dialog-rank">
    <div class="mask"></div>
    <div class="dialog-content">
        <a href="javascript:;" class="dialog-close" data-dismiss="true"></a>
        <div class="rank-content">
            <span id="myScore" class="result-nums my-score"></span>
            <span id="myRank" class="result-nums my-rank"></span>
            <div id="rank_list" class="rank-list">
                <span class="spinner"></span>
            </div>
        </div>
    </div>
</div>

<div id="dialog-howtoplay" class="dialog dialog-howtoplay">
    <div class="mask" data-dismiss="true"></div>
    <div class="dialog-content">
        <a href="game.html" class="button get-btn">我已了解</a>
    </div>
</div>

<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
<!-- build:js js/app.js -->
<script src="js/zepto.min.js"></script>
<script src="js/app.js"></script>
<!-- endbuild -->

<script>
    $(function(){

        function setNumber(el, number ){
            var numhtml = "";
            number.toString().split("").forEach(function(num){
                numhtml += '<b class="n'+ num +'"></b>';
            });

            $(el).html(numhtml);
        }

        function showRanking(){
            $("#dialog-rank").show();
            app.http.post("vivo/top20", {
                userId: app.getUserId()
            }).then(function(res){
                if( !res.isHave ){
                    $("#dialog-rank").hide();
                    return alert("您还未参与游戏，无法查看排行榜哦！");
                }
                var rankList = '';
                (res.top20||[]).forEach(function(item){
                    rankList += '<div class="rank-item">' +
                            '<span class="rank-name">'+ item.nickname +'</span>' +
                            '<span class="rank-dot"></span>' +
                            '<span class="rank-num">'+ item.bestScore +'分</span>' +
                            '</div>';
                });

                setNumber("#myScore", res.lastScore);
                setNumber("#myRank", res.currentRank);
                $("#rank_list").html(rankList);

            }, function(err){
                $("#dialog-rank").hide();
                alert("topTen error:" + err);
            });
        }

        function showHowToPlay(){
            $("#dialog-howtoplay").show();
        }

        $(".btn-start").on("click", function(e){
            e.preventDefault();
            showHowToPlay();
        });

        $(".btn-rule").on("click", function(e){
            e.preventDefault();
            $("#dialog-rule").show();
        });

        $(".btn-rank").on("click", function(e){
            e.preventDefault();
            showRanking();
        });
    });
</script>

<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "//hm.baidu.com/hm.js?11252ecdcb9efd033c996805f11f7063";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
    _hmt.push(['_trackEvent', 'index', 'userInfo', '', JSON.stringify({device: navigator.userAgent, deviceW: window.innerWidth, deviceH: window.innerHeight, duration: Date.now() - _time})]);
</script>
</body>
</html>